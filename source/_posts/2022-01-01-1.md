---
title: FE-Interview
index_img: /img/2022-01-01-1.jpeg
date: 2022-02-27 23:28:37
tags: 前端
categories: 面试
---
# FE-Interview

## 第一天 (2020.01.01)

### 1. 什么时候使用状态管理器？

1. 组件状态要在多个组件共享时
1. 某个组件状态需要在任何地方可以拿到
1. 一个组件需要改变全局状态时
1. 一个组件需要改变另一个组件状态时
1. 组件状态提升提升不能满足需求时，层级过多时。

### 2. render函数中return如果没有使用()会有什么问题？

避免遇到自动插入分号陷阱。

我们在使用JSX语法书写react代码时，babel会将JSX语法编译成js，同时会在每行自动添加分号（；），如果return后换行了，那么就会变成 return； 一般情况下会报错：

Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.
上面这段英文翻译成中文：

渲染没有返回任何内容。这通常意味着缺少return语句。或者，为了不渲染，返回null。
为了代码可读性我们一般会在return后面添加括号这样代码可以折行书写，否则就在return 后面紧跟着语句，这样也是可以的。

举两个正确的书写例子：

```jsx
const Nav = () => {
  return (
    <nav className="c_navbar">
      { some jsx magic here }
    </nav>
    )
  }

const Nav = () => {
return <nav className="c_navbar">
    { some jsx magic here }
  </nav>
}
```

错误的写法：

```jsx
const Nav = () => {
  return
    <nav className="c_navbar">
      { some jsx magic here }
    </nav>
}
```

### 3. componentWillUpdate可以直接修改state的值吗？

直接修改不可以，但是加上条件就可以。

文档原文：“你也可以在 componentDidUpdate() 中直接调用 setState()，但请注意它必须被包裹在一个条件语句里，正如上述的例子那样进行处理，否则会导致死循环。它还会导致额外的重新渲染，虽然用户不可见，但会影响组件性能。”

componentWillReceiveProps 同理

### 4. 说说你对React的渲染原理的理解

1. React会调用React.render()构建一颗DOM树，生成虚拟dom。
2. 通过改变state或props触发更新。
3. 对比新旧虚拟dom，diff算法，深度优先，将实际需要改变的反应到真实dom。

## Reference

- <https://github.com/qiu-deqing/FE-interview>
- <https://github.com/haizlin/fe-interview>
